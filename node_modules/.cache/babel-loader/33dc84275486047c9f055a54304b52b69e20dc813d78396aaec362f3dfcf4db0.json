{"ast":null,"code":"import _classCallCheck from\"/home/joaob/Projetos-Portifolio/Trybe-Projeto-Trivia/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/joaob/Projetos-Portifolio/Trybe-Projeto-Trivia/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/joaob/Projetos-Portifolio/Trybe-Projeto-Trivia/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/joaob/Projetos-Portifolio/Trybe-Projeto-Trivia/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import md5 from'crypto-js/md5';import React,{Component}from'react';import{connect}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ranking=/*#__PURE__*/function(_Component){_inherits(Ranking,_Component);var _super=_createSuper(Ranking);function Ranking(){var _this;_classCallCheck(this,Ranking);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={local:[]};return _this;}_createClass(Ranking,[{key:\"componentDidMount\",value:function componentDidMount(){var local=JSON.parse(localStorage.getItem('ranking'));local.sort(function(a,b){return b.score-a.score;});console.log(local);this.setState({local:local});}},{key:\"render\",value:function render(){var _this2=this;var local=this.state.local;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"ranking-title\",className:\"ranking\",children:[/*#__PURE__*/_jsx(\"ol\",{children:local.map(function(player,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://www.gravatar.com/avatar/\".concat(md5(player.gravatarEmail).toString()),alt:player.name}),/*#__PURE__*/_jsx(\"div\",{className:\"name-ranking\",children:/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"player-name-\".concat(index),children:player.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"points-ranking\",children:/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"player-score-\".concat(index),children:player.score})})]},index);})}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"btn-go-home\",type:\"button\",onClick:function onClick(){var history=_this2.props.history;history.push('/');},children:\"Inicio\"})]});}}]);return Ranking;}(Component);var mapStateToProps=function mapStateToProps(_ref){var player=_ref.player;return{player:player};};export default connect(mapStateToProps)(Ranking);","map":{"version":3,"names":["md5","React","Component","connect","Ranking","state","local","JSON","parse","localStorage","getItem","sort","a","b","score","console","log","setState","map","player","index","gravatarEmail","toString","name","history","props","push","mapStateToProps"],"sources":["/home/joaob/Projetos-Portifolio/Trybe-Projeto-Trivia/src/pages/Ranking.jsx"],"sourcesContent":["import md5 from 'crypto-js/md5';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass Ranking extends Component {\n  state = {\n    local: [],\n  };\n\n  componentDidMount() {\n    const local = JSON.parse(localStorage.getItem('ranking'));\n    local.sort((a, b) => b.score - a.score);\n    console.log(local);\n    this.setState({\n      local,\n    });\n  }\n\n  render() {\n    const { local } = this.state;\n    return (\n      <div data-testid=\"ranking-title\" className=\"ranking\">\n        <ol>\n          {\n            local.map((player, index) => (\n              <li key={ index }>\n                <img src={ `https://www.gravatar.com/avatar/${md5(player.gravatarEmail).toString()}` } alt={ player.name } />\n                <div className=\"name-ranking\">\n                  <p data-testid={ `player-name-${index}` }>{player.name}</p>\n                </div>\n                <div className=\"points-ranking\">\n                  <p data-testid={ `player-score-${index}` }>{player.score}</p>\n                </div>\n              </li>\n            ))\n          }\n        </ol>\n        <button\n          data-testid=\"btn-go-home\"\n          type=\"button\"\n          onClick={ () => {\n            const { history } = this.props;\n            history.push('/');\n          } }\n        >\n          Inicio\n\n        </button>\n      </div>\n    );\n  }\n}\n\nRanking.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\nconst mapStateToProps = ({ player }) => ({\n  player,\n});\nexport default connect(mapStateToProps)(Ranking);\n"],"mappings":"whBAAA,MAAOA,IAAG,KAAM,eAAe,CAE/B,MAAOC,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,aAAa,CAAC,2FAEhCC,QAAO,+TACXC,KAAK,CAAG,CACNC,KAAK,CAAE,EACT,CAAC,oEAED,4BAAoB,CAClB,GAAMA,MAAK,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,CACzDJ,KAAK,CAACK,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,QAAKA,EAAC,CAACC,KAAK,CAAGF,CAAC,CAACE,KAAK,GAAC,CACvCC,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC,CAClB,IAAI,CAACW,QAAQ,CAAC,CACZX,KAAK,CAALA,KACF,CAAC,CAAC,CACJ,CAAC,sBAED,iBAAS,iBACP,GAAQA,MAAK,CAAK,IAAI,CAACD,KAAK,CAApBC,KAAK,CACb,mBACE,aAAK,cAAY,eAAe,CAAC,SAAS,CAAC,SAAS,wBAClD,oBAEIA,KAAK,CAACY,GAAG,CAAC,SAACC,MAAM,CAAEC,KAAK,qBACtB,mCACE,YAAK,GAAG,2CAAsCpB,GAAG,CAACmB,MAAM,CAACE,aAAa,CAAC,CAACC,QAAQ,EAAE,CAAI,CAAC,GAAG,CAAGH,MAAM,CAACI,IAAM,EAAG,cAC7G,YAAK,SAAS,CAAC,cAAc,uBAC3B,UAAG,oCAA6BH,KAAK,CAAI,UAAED,MAAM,CAACI,IAAI,EAAK,EACvD,cACN,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,UAAG,qCAA8BH,KAAK,CAAI,UAAED,MAAM,CAACL,KAAK,EAAK,EACzD,GAPEM,KAAK,CAQV,EACN,CAAC,EAED,cACL,eACE,cAAY,aAAa,CACzB,IAAI,CAAC,QAAQ,CACb,OAAO,CAAG,kBAAM,CACd,GAAQI,QAAO,CAAK,MAAI,CAACC,KAAK,CAAtBD,OAAO,CACfA,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC,CACnB,CAAG,UACJ,QAGD,EAAS,GACL,CAEV,CAAC,qBA9CmBxB,SAAS,EAsD/B,GAAMyB,gBAAe,CAAG,QAAlBA,gBAAe,UAAMR,OAAM,MAANA,MAAM,OAAQ,CACvCA,MAAM,CAANA,MACF,CAAC,EAAC,CACF,cAAehB,QAAO,CAACwB,eAAe,CAAC,CAACvB,OAAO,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
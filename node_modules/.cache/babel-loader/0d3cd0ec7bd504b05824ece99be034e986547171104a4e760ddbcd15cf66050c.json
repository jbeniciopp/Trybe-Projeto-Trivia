{"ast":null,"code":"var _jsxFileName = \"/home/joaob/Projetos-Trybe/sd-027-a-project-trivia-react-redux/src/pages/Feedback.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { login } from '../redux/actions/playerAction';\nimport { resetScore } from '../redux/actions/resetState';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Feedback extends Component {\n  constructor() {\n    super(...arguments);\n    this.handleClick = () => {\n      const {\n        player: {\n          name,\n          score,\n          gravatarEmail\n        }\n      } = this.props;\n      const prevStorage = JSON.parse(localStorage.getItem('ranking') || '[]');\n      localStorage.setItem('ranking', JSON.stringify([...prevStorage, {\n        name,\n        score,\n        gravatarEmail\n      }]));\n      const {\n        dispatch\n      } = this.props;\n      dispatch(resetScore());\n      const {\n        history\n      } = this.props;\n      history.push('/ranking');\n    };\n  }\n  render() {\n    const {\n      player: {\n        score,\n        assertions\n      },\n      history,\n      dispatch\n    } = this.props;\n    const tres = 3;\n    // console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"feedback-text\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"feedback-text\",\n        children: assertions < tres ? 'Could be better...' : 'Well Done!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Seu score \\xE9:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            \"data-testid\": \"feedback-total-score\",\n            children: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Voc\\xEA acertou:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            \"data-testid\": \"feedback-total-question\",\n            children: assertions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"btn-play-again\",\n        onClick: () => {\n          // console.log('clicou');\n          dispatch(login({\n            name: '',\n            assertions: 0,\n            score: 0,\n            gravatarEmail: ''\n          }));\n          history.push('/');\n        },\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"btn-ranking\",\n        onClick: this.handleClick,\n        children: \"Ranking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n}\nFeedback.propTypes = {\n  user: PropTypes.shape({\n    assertions: PropTypes.number\n  })\n}.isRequired;\nconst mapStateToProps = _ref => {\n  let {\n    player\n  } = _ref;\n  return {\n    player\n  };\n};\nexport default connect(mapStateToProps)(Feedback);","map":{"version":3,"names":["PropTypes","React","Component","connect","Header","login","resetScore","Feedback","handleClick","player","name","score","gravatarEmail","props","prevStorage","JSON","parse","localStorage","getItem","setItem","stringify","dispatch","history","push","render","assertions","tres","propTypes","user","shape","number","isRequired","mapStateToProps"],"sources":["/home/joaob/Projetos-Trybe/sd-027-a-project-trivia-react-redux/src/pages/Feedback.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { login } from '../redux/actions/playerAction';\nimport { resetScore } from '../redux/actions/resetState';\n\nclass Feedback extends Component {\n  handleClick = () => {\n    const { player: { name, score, gravatarEmail } } = this.props;\n    const prevStorage = JSON.parse(localStorage.getItem('ranking') || '[]');\n    localStorage.setItem(\n      'ranking',\n      JSON.stringify([...prevStorage, { name, score, gravatarEmail }]),\n    );\n    const { dispatch } = this.props;\n    dispatch(resetScore());\n    const { history } = this.props;\n    history.push('/ranking');\n  };\n\n  render() {\n    const { player: { score, assertions }, history, dispatch } = this.props;\n    const tres = 3;\n    // console.log(this.props);\n    return (\n      <div data-testid=\"feedback-text\">\n        <Header />\n        <p data-testid=\"feedback-text\">\n          { assertions < tres ? 'Could be better...' : 'Well Done!' }\n        </p>\n        <div>\n          <h2>\n            Seu score é:\n            {' '}\n            <span data-testid=\"feedback-total-score\">{score}</span>\n          </h2>\n          <h2>\n            Você acertou:\n            {' '}\n            <span data-testid=\"feedback-total-question\">{assertions}</span>\n          </h2>\n        </div>\n        <button\n          type=\"button\"\n          data-testid=\"btn-play-again\"\n          onClick={ () => {\n            // console.log('clicou');\n            dispatch(login({\n              name: '',\n              assertions: 0,\n              score: 0,\n              gravatarEmail: '',\n            }));\n            history.push('/');\n          } }\n        >\n          Play Again\n        </button>\n        <button\n          data-testid=\"btn-ranking\"\n          onClick={ this.handleClick }\n        >\n          Ranking\n        </button>\n      </div>\n    );\n  }\n}\n\nFeedback.propTypes = {\n  user: PropTypes.shape({\n    assertions: PropTypes.number,\n  }),\n}.isRequired;\n\nconst mapStateToProps = ({ player }) => ({\n  player,\n});\n\nexport default connect(mapStateToProps)(Feedback);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}